<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Database Test</title>
</head>
<body>
    <h1>Database Test</h1>
    <div id="result"></div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const supabase = window.supabase.createClient(
            'https://kxdmigytkedpahccfraa.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZG1pZ3l0a2VkcGFoY2NmcmFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxNDkxMjAsImV4cCI6MjA4MzcyNTEyMH0.-QQCRguA4oPqM3p4Mpq7JB8XEmhdj5VlT62K_TS2q4o'
        )

        async function testTables() {
            const result = document.getElementById('result')
            let html = '<h2>Testing Tables</h2>'

            // Test professionals
            const { data: professionals, error: profError } = await supabase.from('professionals').select('count', { count: 'exact' })
            html += `<p>Professionals: ${profError ? '❌ ' + profError.message : '✅ ' + (professionals?.length || 0) + ' records'}</p>`

            // Test services
            const { data: services, error: servError } = await supabase.from('services').select('count', { count: 'exact' })
            html += `<p>Services: ${servError ? '❌ ' + servError.message : '✅ ' + (services?.length || 0) + ' records'}</p>`

            // Test clients
            const { data: clients, error: clientError } = await supabase.from('clients').select('count', { count: 'exact' })
            html += `<p>Clients: ${clientError ? '❌ ' + clientError.message : '✅ ' + (clients?.length || 0) + ' records'}</p>`

            // Test schedules
            const { data: schedules, error: schedError } = await supabase.from('schedules').select('count', { count: 'exact' })
            html += `<p>Schedules: ${schedError ? '❌ ' + schedError.message : '✅ ' + (schedules?.length || 0) + ' records'}</p>`

            result.innerHTML = html
        }

        testTables()
    </script>
</body>
</html>
